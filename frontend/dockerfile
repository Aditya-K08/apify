# Use Node to build and serve
FROM node:20

WORKDIR /app

# Install dependencies
COPY package*.json ./
RUN npm install

# Copy source files and build
COPY . .
RUN npm run build

# Expose the default Vite preview port
EXPOSE 4173

# Start using Vite's preview mode
CMD ["npm", "run", "preview", "--", "--host"]
